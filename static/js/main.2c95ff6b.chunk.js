(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a(56)},42:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),s=(a(41),a(11)),o=a(12),i=a(14),u=a(13),m=a(15),h=a(6),d=a(21),b=a(16),p=(a(42),a(57)),E=a(58),v=a(59),f=a(60),g=a(61),y=a(62),j=a(63),O=a(64),S=a(3),N=a.n(S),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(h.a)(Object(h.a)(a))),a.state={activeTab:"1"},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){var e=this,t=this.props.entities||[];return r.a.createElement("div",null,r.a.createElement("p",null),r.a.createElement(p.a,{tabs:!0},r.a.createElement(E.a,null,r.a.createElement(v.a,{className:N()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")},href:"#"},"Entities")),r.a.createElement(E.a,null,r.a.createElement(v.a,{className:N()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")},href:"#"},"Intention"))),r.a.createElement(f.a,{activeTab:this.state.activeTab},r.a.createElement(g.a,{tabId:"1"},r.a.createElement(y.a,null,r.a.createElement(j.a,{sm:"12"},r.a.createElement(O.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Value"),r.a.createElement("th",null,"Type Name"),r.a.createElement("th",null,"Confidence Score"))),r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.entity_value),r.a.createElement("td",null,e.entity_type),r.a.createElement("td",null,parseFloat(e.confidence_score).toFixed(3)))})))))),r.a.createElement(g.a,{tabId:"2"},r.a.createElement(y.a,null,r.a.createElement(j.a,{sm:"12"},r.a.createElement(O.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Confidence Score"))),r.a.createElement("tbody",null,r.a.createElement("tr",{key:"0"},r.a.createElement("td",null,this.props.intent.intent_type),r.a.createElement("td",null,parseFloat(this.props.intent.confidence_score).toFixed(3))))))))))}}]),t}(n.Component),U=a(65),w=a(66),C=a(67),T=a(68),x=a(69),F=(a(45),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).startUtt="please show me flights from pittsburgh to new york city on wednesday morning serving breakfast",a.urlStr="https://cionlu.herokuapp.com/api/v1/nlu",a.handleUtteranceChange=a.handleUtteranceChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmitFrom=a.handleSubmitFrom.bind(Object(h.a)(Object(h.a)(a))),a.state={nluResponse:{entities:[{confidence_score:0,end:null,entity_type:"t1",entity_value:"slot1",start:null}],intent:{confidence_score:0,intent_type:"t1"},text:""}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleUtteranceChange",value:function(e){var t=e.target.value;"\n"===t.charAt(t.length-1)?this.handleSubmitFrom(e):this.setState({utterance:e.target.value})}},{key:"handleSubmitFrom",value:function(e){var t=this;e.preventDefault();var a=new URL(this.urlStr),n={utterance:this.state.utterance};a.search=new URLSearchParams(n),fetch(a,{method:"GET",mode:"cors"}).then(function(e){if(200===e.status)return e.json()}).then(function(e){e&&t.setState({nluResponse:e})}).catch(function(e){return console.error("Error:",e)})}},{key:"componentDidMount",value:function(){var e=this;this.setState({utterance:this.startUtt});var t=new URL(this.urlStr),a={utterance:this.startUtt};t.search=new URLSearchParams(a),fetch(t,{method:"GET"}).then(function(e){if(200===e.status)return e.json()}).then(function(t){t&&e.setState({nluResponse:t})}).catch(function(e){return console.error("Error:",e)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(U.a,{className:"nlu-content"},r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement("h5",null,"State something"),r.a.createElement(w.a,{onSubmit:this.handleSubmitFrom},r.a.createElement(C.a,null,r.a.createElement(T.a,{type:"textarea",name:"utterance",id:"utterance",value:this.state.utterance,onChange:this.handleUtteranceChange,placeholder:this.startUtt}),r.a.createElement(x.a,{className:"float-right submit-btn",color:"primary",type:"submit"},"Analyze"))))),r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement("h5",null,"See Language Understanding in action"),r.a.createElement(k,{intent:this.state.nluResponse.intent,entities:this.state.nluResponse.entities})))))}}]),t}(n.Component));a(46);function R(e){return!0===e.isMe?r.a.createElement("div",{className:"row justify-content-end"},r.a.createElement("div",{className:"card message-card bg-lightblue m-1"},r.a.createElement("div",{className:"card-body p-2"},r.a.createElement("span",{className:"mx-2"},e.value)))):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"card message-card m-1"},r.a.createElement("div",{className:"card-body p-2"},r.a.createElement("span",{className:"mx-2"},e.value))))}var _=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).scrollToBottom=function(){a.messagesEnd.scrollIntoView({behavior:"smooth"})},a.scrollToBottom=a.scrollToBottom.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this,t=this.props.messages.map(function(e,t){return r.a.createElement(R,{value:e.text,isMe:e.isMe,key:t})});return r.a.createElement("div",{className:"container-fluid message-scroll"},t,r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}}))}}]),t}(n.Component),I=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).startUtt="...";return a.apiUrl="".concat("https://cio-dialogsys.herokuapp.com","/api/v1"),a.handleUtteranceChange=a.handleUtteranceChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmitFrom=a.handleSubmitFrom.bind(Object(h.a)(Object(h.a)(a))),a.state={dialog:[],apiResponse:{},utterance:"",sessionId:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(this.apiUrl+"/sessions");fetch(t,{method:"POST",credentials:"include",mode:"cors"}).then(function(e){if(200===e.status)return e.json()}).then(function(t){t&&e.setState({sessionId:t.session_id})}).catch(function(e){return console.error("Error:",e)})}},{key:"handleUtteranceChange",value:function(e){var t=e.target.value;"\n"===t.charAt(t.length-1)?this.handleSubmitFrom(e):this.setState({utterance:e.target.value})}},{key:"handleSubmitFrom",value:function(e){var t=this;e.preventDefault(),this.setState({utterance:""});var a=new URL("".concat(this.apiUrl,"/").concat(this.state.sessionId,"/message")),n=this.state.dialog;n.push({isMe:!0,text:this.state.utterance});var r={input:{text:this.state.utterance}};fetch(a,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"},credentials:"include",mode:"cors"}).then(function(e){if(200===e.status)return e.json()}).then(function(e){e&&n.push({isMe:!1,text:e.output}),t.setState({apiResponse:e,dialog:n})}).catch(function(e){return console.error("Error:",e)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",null,"My Virtual Asisstant")),r.a.createElement("div",{className:"card-body d-flex flex-column p-1"},r.a.createElement(_,{messages:this.state.dialog}),r.a.createElement("form",{onSubmit:this.handleSubmitFrom,className:"mt-3 p-1"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"utterance",value:this.state.utterance,onChange:this.handleUtteranceChange,placeholder:this.startUtt}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Send"))))))))))}}]),t}(n.Component),M=a(70),D=a(71),L=a(72),B=a(73),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggleNavbar=a.toggleNavbar.bind(Object(h.a)(Object(h.a)(a))),a.state={collapsed:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(M.a,{color:"faded",light:!0,expand:"md"},r.a.createElement(D.a,{href:"/",className:"mr-auto brand-title"},"CIO Dialog System"),r.a.createElement(L.a,{onClick:this.toggleNavbar,className:"mr-2"}),r.a.createElement(B.a,{isOpen:!this.state.collapsed,navbar:!0},r.a.createElement(p.a,{navbar:!0,right:"true",className:"ml-auto"},r.a.createElement(E.a,null,r.a.createElement(v.a,{tag:d.b,to:"/"},"NLU")),r.a.createElement(E.a,null,r.a.createElement(v.a,{tag:d.b,to:"/dialog"},"Dialog"))))),r.a.createElement(b.a,{path:"/",exact:!0,component:F}),r.a.createElement(b.a,{path:"/dialog/",component:I})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.2c95ff6b.chunk.js.map